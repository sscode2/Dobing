<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Dubify AI | English to Bangla & Hindi Dubbing</title>
    <style>
        /* 
        ========================================
        CSS VARIABLES & RESET
        ========================================
        */
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --accent: #06b6d4;
            --bg-dark: #0f172a;
            --card-bg: rgba(30, 41, 59, 0.7);
            --text-main: #f8fafc;
            --text-dim: #94a3b8;
            --success: #22c55e;
            --glass: rgba(255, 255, 255, 0.03);
            --border: rgba(255, 255, 255, 0.1);
            --radius: 16px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            background: radial-gradient(circle at top right, #1e1b4b, #0f172a);
            color: var(--text-main);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            overflow-x: hidden;
            line-height: 1.5;
            user-select: none; /* UX Protection */
        }

        /* 
        ========================================
        UTILITIES
        ========================================
        */
        .container {
            width: 100%;
            max-width: 500px;
            margin: 0 auto;
            padding: 20px;
            flex-grow: 1;
        }

        .hidden { display: none !important; }

        .glass-card {
            background: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        .btn {
            width: 100%;
            padding: 16px;
            border-radius: 12px;
            border: none;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 10px 15px -3px rgba(99, 102, 241, 0.3);
        }

        .btn-primary:active { transform: scale(0.98); }
        .btn-primary:disabled { opacity: 0.5; cursor: not-allowed; }

        /* 
        ========================================
        HEADER
        ========================================
        */
        header {
            text-align: center;
            padding: 40px 20px 20px;
        }

        .logo {
            font-size: 28px;
            font-weight: 800;
            background: linear-gradient(to right, #818cf8, #c084fc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -1px;
        }

        .tagline {
            color: var(--text-dim);
            font-size: 14px;
            margin-top: 8px;
        }

        /* 
        ========================================
        UPLOAD SECTION
        ========================================
        */
        #drop-zone {
            border: 2px dashed var(--border);
            border-radius: var(--radius);
            padding: 40px 20px;
            text-align: center;
            transition: var(--transition);
            background: var(--glass);
            margin-bottom: 24px;
        }

        #drop-zone.dragover {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .upload-icon {
            font-size: 40px;
            margin-bottom: 15px;
            display: block;
        }

        .preview-container {
            margin-top: 20px;
            border-radius: 12px;
            overflow: hidden;
            background: #000;
            display: none;
        }

        video {
            width: 100%;
            display: block;
        }

        .lang-selector {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 24px;
        }

        .lang-card {
            background: var(--glass);
            border: 1px solid var(--border);
            padding: 15px;
            border-radius: 12px;
            cursor: pointer;
            text-align: center;
            transition: var(--transition);
        }

        .lang-card.active {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
            box-shadow: 0 0 0 1px var(--primary);
        }

        /* 
        ========================================
        PROCESSING SECTION
        ========================================
        */
        .process-step {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            color: var(--text-dim);
        }

        .process-step.active { color: var(--text-main); }
        .process-step.completed { color: var(--success); }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: currentColor;
        }

        .progress-bar-container {
            height: 8px;
            background: var(--glass);
            border-radius: 10px;
            overflow: hidden;
            margin: 30px 0;
        }

        .progress-fill {
            height: 100%;
            width: 0%;
            background: linear-gradient(to right, var(--primary), var(--accent));
            transition: width 0.4s ease;
        }

        /* 
        ========================================
        RESULT SECTION
        ========================================
        */
        .result-item {
            margin-bottom: 24px;
        }

        .result-label {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
            display: block;
            color: var(--text-dim);
        }

        .download-btn {
            margin-top: 10px;
            background: var(--glass);
            border: 1px solid var(--border);
            color: white;
        }

        .download-btn:hover {
            background: var(--border);
        }

        /* 
        ========================================
        ANIMATIONS
        ========================================
        */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .animate-in { animation: fadeIn 0.5s forwards; }

    </style>
</head>
<body oncontextmenu="return false;"> <!-- UX Protection: Disable Right Click -->

    <header>
        <div class="logo">Dubify AI</div>
        <div class="tagline">Neural Video Translation Engine</div>
    </header>

    <main class="container">
        
        <!-- SECTION 1: UPLOAD -->
        <section id="upload-section" class="glass-card animate-in">
            <div id="drop-zone">
                <span class="upload-icon">ðŸŽ¥</span>
                <p style="font-weight: 600;">Tap to upload English video</p>
                <p style="font-size: 12px; color: var(--text-dim); margin-top: 5px;">MP4, MOV up to 100MB</p>
                <input type="file" id="file-input" accept="video/*" hidden>
            </div>

            <div id="video-preview" class="preview-container">
                <video id="main-player" controls></video>
            </div>

            <div style="margin: 20px 0 10px;">
                <p style="font-size: 14px; font-weight: 600; margin-bottom: 12px;">Target Languages</p>
                <div class="lang-selector">
                    <div class="lang-card active" onclick="toggleLang(this, 'bn')">
                        <span style="font-size: 20px; display: block;">ðŸ‡§ðŸ‡©</span>
                        <span style="font-size: 13px;">Bangla</span>
                    </div>
                    <div class="lang-card active" onclick="toggleLang(this, 'hi')">
                        <span style="font-size: 20px; display: block;">ðŸ‡®ðŸ‡³</span>
                        <span style="font-size: 13px;">Hindi</span>
                    </div>
                </div>
            </div>

            <button id="start-btn" class="btn btn-primary" disabled onclick="startProcessing()">
                Start AI Dubbing
            </button>
        </section>

        <!-- SECTION 2: PROCESSING -->
        <section id="processing-section" class="glass-card hidden">
            <h2 style="text-align: center; margin-bottom: 30px;">AI Dubbing in Progress</h2>
            
            <div class="process-step" id="step-1">
                <div class="dot"></div> <span>Extracting original audio...</span>
            </div>
            <div class="process-step" id="step-2">
                <div class="dot"></div> <span>Translating speech to Bangla & Hindi...</span>
            </div>
            <div class="process-step" id="step-3">
                <div class="dot"></div> <span>Synthesizing AI neural voices...</span>
            </div>
            <div class="process-step" id="step-4">
                <div class="dot"></div> <span>Merging multi-lingual tracks...</span>
            </div>

            <div class="progress-bar-container">
                <div id="progress-fill" class="progress-fill"></div>
            </div>
            
            <p id="status-text" style="text-align: center; font-size: 14px; color: var(--text-dim);">
                Analyzing video frames (0%)
            </p>
        </section>

        <!-- SECTION 3: RESULT -->
        <section id="result-section" class="glass-card hidden animate-in">
            <div style="text-align: center; margin-bottom: 25px;">
                <span style="font-size: 40px;">ðŸŽ‰</span>
                <h2 style="margin-top: 10px;">Processing Complete</h2>
                <p style="color: var(--text-dim); font-size: 14px;">Your dubbed videos are ready</p>
            </div>

            <div class="result-item">
                <span class="result-label">BANGLA DUBBED VERSION</span>
                <video id="video-bn" controls class="preview-container" style="display: block;"></video>
                <button class="btn download-btn" onclick="simulateDownload('Bangla')">
                    ðŸ“¥ Download Bangla MP4
                </button>
            </div>

            <div class="result-item">
                <span class="result-label">HINDI DUBBED VERSION</span>
                <video id="video-hi" controls class="preview-container" style="display: block;"></video>
                <button class="btn download-btn" onclick="simulateDownload('Hindi')">
                    ðŸ“¥ Download Hindi MP4
                </button>
            </div>

            <button class="btn btn-primary" onclick="location.reload()" style="margin-top: 20px; background: var(--glass);">
                Convert Another Video
            </button>
        </section>

    </main>

    <footer style="padding: 20px; text-align: center; font-size: 12px; color: var(--text-dim);">
        &copy; 2026 Dubify AI. Professional Grade Neural Translation.
    </footer>

    <script>
        // ===== GLOBAL VARIABLES =====
        const dropZone = document.getElementById('drop-zone');
        const fileInput = document.getElementById('file-input');
        const mainPlayer = document.getElementById('main-player');
        const startBtn = document.getElementById('start-btn');
        let selectedFile = null;

        // ===== UX PROTECTION: PREVENT SHORTCUTS =====
        document.onkeydown = function(e) {
            if (e.keyCode == 123) return false; // F12
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'I'.charCodeAt(0)) return false;
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'C'.charCodeAt(0)) return false;
            if (e.ctrlKey && e.shiftKey && e.keyCode == 'J'.charCodeAt(0)) return false;
            if (e.ctrlKey && e.keyCode == 'U'.charCodeAt(0)) return false;
        };

        // ===== UPLOAD LOGIC =====
        dropZone.addEventListener('click', () => fileInput.click());

        dropZone.addEventListener('dragover', (e) => {
            e.preventDefault();
            dropZone.classList.add('dragover');
        });

        dropZone.addEventListener('dragleave', () => {
            dropZone.classList.remove('dragover');
        });

        dropZone.addEventListener('drop', (e) => {
            e.preventDefault();
            dropZone.classList.remove('dragover');
            handleFile(e.dataTransfer.files[0]);
        });

        fileInput.addEventListener('change', (e) => {
            handleFile(e.target.files[0]);
        });

        function handleFile(file) {
            if (!file) return;

            // Validation
            if (!file.type.startsWith('video/')) {
                alert("Please upload a valid video file.");
                return;
            }
            if (file.size > 100 * 1024 * 1024) {
                alert("File size exceeds 100MB limit.");
                return;
            }

            selectedFile = file;
            const url = URL.createObjectURL(file);
            mainPlayer.src = url;
            
            document.getElementById('video-preview').style.display = 'block';
            dropZone.style.display = 'none';
            startBtn.disabled = false;
        }

        function toggleLang(el, lang) {
            el.classList.toggle('active');
            const actives = document.querySelectorAll('.lang-card.active');
            startBtn.disabled = (actives.length === 0 || !selectedFile);
        }

        // ===== AI PROCESSING SIMULATION =====
        async function startProcessing() {
            document.getElementById('upload-section').classList.add('hidden');
            document.getElementById('processing-section').classList.remove('hidden');

            const progressFill = document.getElementById('progress-fill');
            const statusText = document.getElementById('status-text');
            const steps = [
                document.getElementById('step-1'),
                document.getElementById('step-2'),
                document.getElementById('step-3'),
                document.getElementById('step-4')
            ];

            // Simulate progress steps
            for (let i = 0; i < steps.length; i++) {
                steps[i].classList.add('active');
                
                let progressStart = i * 25;
                let progressEnd = (i + 1) * 25;
                
                for (let p = progressStart; p <= progressEnd; p++) {
                    progressFill.style.width = p + '%';
                    statusText.innerText = `AI Processing... ${p}%`;
                    await new Promise(r => setTimeout(r, 40)); // Speed adjustment
                }
                
                steps[i].classList.remove('active');
                steps[i].classList.add('completed');
            }

            // Move to Results
            showResults();
        }

        // ===== AI API INTEGRATION PLACEHOLDER =====
        /*
        // To connect real backend/APIs:
        async function callDubbingAPI(videoFile) {
            const formData = new FormData();
            formData.append('video', videoFile);
            
            // 1. Send to Speech-to-Text (e.g. Whisper API)
            // 2. Translate JSON text (e.g. DeepL or GPT-4)
            // 3. Convert text to speech (e.g. ElevenLabs or Google TTS)
            // 4. Merge audio with video (e.g. FFmpeg)
            
            const response = await fetch('https://api.dubify.ai/v1/process', {
                method: 'POST',
                body: formData
            });
            return await response.json();
        }
        */

        function showResults() {
            document.getElementById('processing-section').classList.add('hidden');
            document.getElementById('result-section').classList.remove('hidden');

            // Use the original video for the demo players
            const demoUrl = URL.createObjectURL(selectedFile);
            document.getElementById('video-bn').src = demoUrl;
            document.getElementById('video-hi').src = demoUrl;
        }

        function simulateDownload(lang) {
            alert(`Dubbing Engine: ${lang} version is being prepared for secure download.`);
            // In real app, this would trigger the download of the processed file blob
        }
    </script>
</body>
</html>